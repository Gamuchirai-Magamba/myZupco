(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8417],{8417:function(e,n,t){"use strict";t.d(n,{Ad:function(){return K}});var o=t(26042),i=t(69396),r=t(99534),l=t(85893),a=t(67294),s=t(45697),u=t.n(s),c=t(94184),d=t.n(c),p=t(25261),f=t(10253),g=t(4298),w=t.n(g),m=t(18446),v=t.n(m),h=t(27361),S=t.n(h),b=t(78623);function E(e){return S()(e,"type",null)?S()(e,"type",null):S()(e,"destinationSubNav",null)}function y(e){var n=S()(e,"title",null),t=S()(e,"poiName",null),o=S()(e,"narrativeTitle",null),i=S()(e,"articleName",null),r=S()(e,"siteTitle",null);return n||(t||(o||(i||(r||null))))}var I=function(e){var n=e;e.permutiveMeta&&Object.keys(e.permutiveMeta).forEach((function(t){n[t]=e.permutiveMeta[t]}));return{page:{type:S()(n,"contentType",null),title:y(n),atlasId:S()(n,"atlasId",null),cmsId:S()(n,"entityId",null),siteSection:S()(n,"siteSection",null),pageSlug:S()(n,"slug",null),categorySlug:S()(n,"categorySlug",null),hasPhoto:S()(n,"hasPhoto",null),hasVideo:S()(n,"hasVideo",null),articles:[{type:S()(n,"articleType",null),categories:S()(n,"categoryNamesArray",null),tags:S()(n,"tagNamesArray",null)}],destinations:[{continent:S()(n,"contentContinent",null),country:S()(n,"contentCountry",null),region:S()(n,"contentRegion",null),city:S()(n,"contentCity",null),neighborhood:S()(n,"contentNeighborhood",null),type:S()(n,"contentType",null)}],pois:[{name:S()(n,"poiName",null),topChoice:S()(n,"isTopChoice",null),type:E(n),attributes:S()(n,"origAttributes",null),priceRange:null}]}}},O=[b.DEVELOPMENT,b.QA,b.STAGING,b.PRODUCTION].includes("production"),N=function(e){return O?e:function(){}},T=N((function(e,n){window.permutive&&window.permutive.addon(e,n)})),z=N((function(e){var n=e.id;window.permutive&&window.permutive.identify(n)})),R=N((function(e){var n=e.optIn;window.permutive&&window.permutive.consent({opt_in:n,token:"CONSENT_CAPTURED"})})),_=N((function(e,n){window.permutive&&window.permutive.ready(e,n)})),D=N((function(e){var n=window.localStorage.getItem("_pdfps");e.setTargeting("permutive",n?JSON.parse(n):[])})),A={isEnabled:O,addon:T,identify:z,consent:R,ready:_,setGPTTargeting:D,hasConsent:function(){var e=S()(window,"OnetrustActiveGroups","").includes(",".concat("4",","));return S()(window,"OneTrust.IsAlertBoxClosed",(function(){return!1}))()&&e},addonFromDataLayerData:function(e){return T("web",I(e))}},C=function(){var e=(0,a.useRef)(),n=(0,a.useState)(!1),t=n[0],o=n[1];return(0,a.useEffect)((function(){return e.current=!0,function(){e.current=!1}})),(0,a.useEffect)((function(){var n=function(){e.current&&o(!0)};A.ready(n),setTimeout(n,1500)}),[]),t},L=t(97650),M={SLOT_LOADED:"slotOnload",SLOT_RENDER_ENDED:"slotRenderEnded",IMPRESSION_VIEWABLE:"impressionViewable"},P=t(4111),V=t(51438),k=t(14924),x=t(88029),j=t(60460),G=t(26729),Z=function(e){(0,x.Z)(t,e);var n=(0,j.Z)(t);function t(){var e;return(0,V.Z)(this,t),e=n.apply(this,arguments),(0,k.Z)((0,P.Z)(e),"setupGlobalListeners",(function(){t.listening||(t.listening=!0,window.googletag.cmd.push((function(){Object.values(M).forEach((function(n){window.googletag.pubads().addEventListener(n,(function(t){return e.emit(n,t)}))}))})))})),e}return t}(t.n(G)());(0,k.Z)(Z,"listening",!1);var U=new Z,W=t(49067),B=t.n(W),F=0,q=(0,a.memo)((0,a.forwardRef)((function(e,n){var t=e.adUnitPath,o=e.slotSize,i=e.sizeMapping,r=e.targeting,s=e.onSlotRenderEnded,u=e.onSlotOnload,c=e.onImpressionViewable,d=e.id,p=e.renderWhenViewable,g=(0,a.useRef)(null),m=(0,a.useRef)(null),v=(0,a.useState)(!p),h=v[0],S=v[1],b=(0,f.Z)((0,L.YD)(),2),E=b[0],y=b[1],I=C(),O=(0,a.useMemo)((function(){var e="GPT-".concat(F);return F+=1,e}),[]),N=d||O,T=function(){window.googletag.cmd.push((function(){m.current&&window.googletag.pubads().refresh([m.current])}))};(0,a.useImperativeHandle)(n,(function(){return{refresh:T}}));var z=(0,a.useCallback)((function(){g.current&&t&&o&&(g.current.id=N,window.googletag.cmd.push((function(){if(m.current=window.googletag.defineSlot(t,o,N),m.current){if(i){var e=window.googletag.sizeMapping();i.forEach((function(n){e=e.addSize(n.viewport,n.slot)})),e=e.build(),m.current.defineSizeMapping(e)}m.current.setCollapseEmptyDiv(!0),Object.keys(r).forEach((function(e){m.current.setTargeting(e,r[e])})),A.hasConsent()&&A.setGPTTargeting(m.current),m.current.addService(window.googletag.pubads()),window.googletag.enableServices(),window.googletag.display(m.current)}else console.warn("GPT: Unable to build ad slot for element with id '".concat(N,"'.  Verify the element exists and doesn't appear on the page more than once."))})))}),[N,t,o,i,r]),R=function(){window.googletag.cmd.push((function(){m.current&&window.googletag.destroySlots([m.current])&&(m.current=null)}))};return(0,a.useEffect)((function(){window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push((function(){window.googletag.pubads().disableInitialLoad()})),U.setupGlobalListeners();var e=function(e){s&&m.current===e.slot&&s(e)},n=function(e){u&&m.current===e.slot&&u(e)},t=function(e){c&&m.current===e.slot&&c(e)};return U.on(M.SLOT_LOADED,n),U.on(M.SLOT_RENDER_ENDED,e),U.on(M.IMPRESSION_VIEWABLE,t),function(){U.off(M.SLOT_LOADED,n),U.off(M.SLOT_RENDER_ENDED,e),U.off(M.IMPRESSION_VIEWABLE,t)}}),[s,u,c]),(0,a.useEffect)((function(){return h&&I&&(z(),T()),R}),[h,I,z]),(0,a.useEffect)((function(){y&&S(!0)}),[y]),(0,l.jsxs)("div",{ref:E,children:[(0,l.jsx)(w(),{src:"https://securepubads.g.doubleclick.net/tag/js/gpt.js",beforeInteractive:!0}),(0,l.jsx)("div",{ref:g,className:B()["min-h-1"]})]})})),v()),Q=u().arrayOf(u().oneOfType([u().string,u().arrayOf(u().number)]));q.propTypes={adUnitPath:u().string,slotSize:Q,sizeMapping:u().arrayOf(u().shape({viewport:u().arrayOf(u().number),slot:Q})),targeting:u().shape({}),onSlotRenderEnded:u().func,onSlotOnload:u().func,id:u().string,renderWhenViewable:u().bool,onImpressionViewable:u().func},q.defaultProps={adUnitPath:null,slotSize:null,sizeMapping:null,targeting:{},onSlotRenderEnded:null,onSlotOnload:null,id:null,renderWhenViewable:!1,onImpressionViewable:null},q.displayName="GPT";var X=q,H={minSlotSize:{slotSize:[[1,1]]},logo:{slotSize:[[1,1]]},list:{slotSize:[[320,50],[300,250],[1,1]],sizeMapping:[{viewport:[768,0],slot:[[1,1],[300,250],[320,50]]},{viewport:[1024,0],slot:[[1,1],[728,90]]}]},native:{slotSize:["fluid"]},inContent:{slotSize:[[300,250],[1,1]],sizeMapping:[{viewport:[0,0],slot:[]},{viewport:[320,0],slot:[[300,250],[1,1]]}]},sidebar:{slotSize:[[300,600],[300,250],[160,600]],sizeMapping:[{viewport:[0,0],slot:[]},{viewport:[320,0],slot:[[300,250]]},{viewport:[768,0],slot:[[300,600],[300,250],[160,600]]}]},railShort:{slotSize:[[300,250]],sizeMapping:[{viewport:[0,0],slot:[]},{viewport:[320,0],slot:[[300,250]]}]},superzone:{slotSize:[[970,250],[970,90],[728,90],[1,1]],sizeMapping:[{viewport:[0,0],slot:[]},{viewport:[300,0],slot:[[320,50],[1,1]]},{viewport:[768,0],slot:[[728,90],[1,1]]},{viewport:[960,0],slot:[[970,250],[970,90],[728,90],[1,1]]}]},fullWidth:{slotSize:[[970,250],[970,90],[728,90],[300,250],[320,50],[1,1]],sizeMapping:[{viewport:[0,0],slot:[]},{viewport:[300,0],slot:[[300,250],[320,50],[1,1]]},{viewport:[768,0],slot:[[728,90],[1,1]]},{viewport:[960,0],slot:[[970,250],[970,90],[728,90],[1,1]]}]}},J=t(18600),Y=t.n(J),K=function(e){var n=e.className,t=e.preset,s=e.framed,u=e.white,c=e.before,f=e.children,g=e.onSlotRenderEnded,w=e.onImpressionViewable,m=(0,r.Z)(e,["className","preset","framed","white","before","children","onSlotRenderEnded","onImpressionViewable"]),v=(0,a.useRef)(null),h=(0,a.useRef)((0,p.detected)()),S=(0,a.useState)(!1),b=S[0],E=S[1],y=(0,a.useState)(!0),I=y[0],O=y[1],N=(0,a.useState)(!1),T=N[0],z=N[1],R=(0,a.useState)(null),_=R[0],D=R[1],A=function(e,n){var t=e.creativeId,o=e.size,i=e.lineItemId,r=e.campaignId,l=document.createElement("img"),a={write_key:"wk_1lg1SLc1gApxa9x71IwXDttlgDh",req:btoa(window.location.href),ref:btoa(document.referrer),adId:t,size:o,lineItemId:i,campaignId:r,event:n},s=Object.entries(a).reduce((function(e,n){return e.push("".concat(n[0],"=").concat(n[1])),e}),[]).join("&");l.setAttribute("style","display:none"),l.setAttribute("src","https://navi.cohesionapps.com/display?".concat(s)),document.body.appendChild(l)},C=(0,a.useCallback)((function(e){5200917308===e.advertiserId&&z(!0),g&&g(e),e.isEmpty||O(!1),E(!0),e.creativeId&&A(e,"tracked"),D(e)}),[g]),L=(0,a.useCallback)((function(e){w&&w(e),A(_,"viewed")}),[w,_]),M=!I&&b,P=Boolean(f&&(h.current||I&&b));return(0,l.jsxs)(l.Fragment,{children:[(M||P)&&c,P&&f,!P&&(0,l.jsxs)("div",{className:d()(Y().Ad,{"pb-3 text-center block":M&&s,"bg-white":u,"bg-black-100":s&&!u,"my-12 md:my-20":M&&s&&"superzone"===t,hidden:!M},n),children:[M&&s&&!T&&(0,l.jsx)("div",{className:d()("text-xs uppercase text-black-300 p-3 tracking-wide leading-none"),children:"Advertisement"}),(0,l.jsx)(X,(0,i.Z)((0,o.Z)({ref:v},t?H[t]:{},m),{onSlotRenderEnded:C,onImpressionViewable:L}))]})]})};K.propTypes={before:u().node,preset:u().oneOf(Object.keys(H)),children:u().node,framed:u().bool,className:u().string,onSlotRenderEnded:u().func,onSlotOnload:u().func,onImpressionViewable:u().func,white:u().bool},K.defaultProps={before:null,preset:null,children:null,framed:!1,className:null,onSlotRenderEnded:null,onSlotOnload:null,onImpressionViewable:null,white:!1},K.displayName="Ad"},78623:function(e){"use strict";e.exports={DEVELOPMENT:"development",TEST:"test",QA:"qa",STAGING:"staging",PRODUCTION:"production"}},18600:function(e){e.exports={Ad:"ad_Ad__6Fiho"}},49067:function(e){e.exports={"min-h-1":"gpt_min-h-1__rx3X1"}}}]);